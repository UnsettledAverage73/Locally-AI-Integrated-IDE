You are an expert Senior Frontend Engineer specializing in building developer tools and IDEs.
â€‹Task: Build the complete frontend for "LocalDev," a locally running AI-integrated IDE.
Tech Stack:
â€‹Framework: React + Vite (TypeScript)
â€‹Styling: Tailwind CSS (Dark Mode default)
â€‹Icons: lucide-react
â€‹Editor: @monaco-editor/react
â€‹Networking: Axios
â€‹State Management: React Context or simple State (keep it lightweight)
â€‹Project Goal: Create a VS Code-like interface with three main sections:
â€‹Left Sidebar (File Explorer): A recursive file tree showing folders and files.
â€‹Center (Code Editor): A full-featured Monaco editor instance.
â€‹Right Sidebar (AI Assistant): A chat interface for RAG-based code assistance.
â€‹1. API Contract (Backend is running on http://localhost:8000)
â€‹You must strictly connect to these FastAPI endpoints:
â€‹POST /fs/read-directory: Input { path: string }. Returns { entries: [{ name, path, isDirectory }] }.
â€‹POST /fs/read-file: Input { path: string }. Returns { content: string }.
â€‹POST /fs/write-file: Input { path: string, content: string }. Returns { status: "success" }.
â€‹POST /rag/index: Input { file_path: string, content: string }. Returns { status: "indexed" }.
â€‹POST /ollama/chat: Input { model: "llama3", messages: [{role, content}] }. Returns { content: string }.
â€‹2. Functional Requirements
â€‹A. File Explorer (Sidebar)
â€‹On load, fetch the root directory (start with ./ or a default project path).
â€‹Recursively fetch subdirectories when a folder is clicked (toggle expand/collapse).
â€‹When a file is clicked, fetch its content and load it into the Editor.
â€‹Use distinct icons for Folders (open/closed) and Files.
â€‹B. The Editor (Center)
â€‹Use @monaco-editor/react.
â€‹Dark theme (vs-dark).
â€‹Auto-Save / Manual Save: Implement a Ctrl+S (or Cmd+S) listener that triggers the /fs/write-file endpoint to save changes to disk.
â€‹"Index This File" Button: Add a prominent button in the editor header labeled "ðŸ§  Add to Context". When clicked, send the current file content to /rag/index so the AI can learn it.
â€‹C. AI Chat (Right Sidebar)
â€‹Standard chat interface (User bubbles right, AI bubbles left).
â€‹Context Awareness: When sending a message, if a file is currently open, prepend "Context: Currently editing [Filename]" to the system prompt (optional, but helpful).
â€‹Show a loading spinner while waiting for Ollama.
â€‹3. Visual Style Guide
â€‹Theme: "Cyberpunk" or "Deep Space" (Dark grays, slate blues, slightly translucent panels).
â€‹Layout: Use Flexbox to ensure the Editor takes up all remaining space between the sidebars.
â€‹Borders: Subtle 1px borders (border-gray-700) to separate sections.
â€‹4. Deliverables
â€‹Please generate the full code for the following file structure:
â€‹src/api/client.ts (The Axios setup and typed API functions)
â€‹src/types/index.ts (TypeScript interfaces for API responses)
â€‹src/components/FileExplorer/FileTree.tsx (Recursive component)
â€‹src/components/Editor/CodeEditor.tsx (Monaco wrapper with Save logic)
â€‹src/components/AI/ChatPanel.tsx (Chat UI)
â€‹src/App.tsx (Main layout wiring everything together)